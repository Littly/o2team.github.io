<!DOCTYPE html><html lang="zh-cn" class="theme-o2 page-post-detail"><head prefix="og: http://ogp.me/ns#"><meta charset="utf-8"><title>CSS3动画实践 | Aotu.io</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="keywords" content="animation,CSS3,凹凸实验室,Aotu,前端开发,全栈开发,IOS开发,Android开发"><link rel="canonical" href="http://aotu.io/notes/2016/01/04/css3-animation/index.html"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/apple-touch-icon-152x152.png"><link rel="icon" type="image/png" href="/assets/img/favicon-230x230.png" sizes="230x230"><link rel="icon" type="image/png" href="/assets/img/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="/assets/img/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/assets/img/favicon-32x32.png" sizes="32x32"><meta name="msapplication-TileColor" content="#2f83cd"><meta name="msapplication-TileImage" content="/assets/img/mstile-144x144.png"><link rel="stylesheet" href="/assets/css/dist-e49cc41a1e.o2.css"><link rel="stylesheet" href="/assets/fancybox/jquery.fancybox.css"><link rel="alternative" href="/atom.xml" title="Aotu.io" type="application/atom+xml"><meta name="description" content="需求中常见的css3动画
一、补间动画/关键帧动画常用于实现位移、颜色（透明度）、大小、旋转、倾斜等变化。
Transitions——简单的动画：起始两帧过渡

CSS的transition允许CSS的属性值在一定的时间区间内平滑地过渡。这种效果可以在鼠标单击、获得焦点、被点击或对元素任何改变中触发，并圆滑地以动画效果改变CSS的属性值。


应用场景：页面的交互操作

优点：使用transiti"><meta property="og:type" content="article"><meta property="og:title" content="CSS3动画实践"><meta property="og:url" content="http://aotu.io/notes/2016/01/04/css3-animation/index.html"><meta property="og:site_name" content="Aotu.io"><meta property="og:description" content="需求中常见的css3动画
一、补间动画/关键帧动画常用于实现位移、颜色（透明度）、大小、旋转、倾斜等变化。
Transitions——简单的动画：起始两帧过渡

CSS的transition允许CSS的属性值在一定的时间区间内平滑地过渡。这种效果可以在鼠标单击、获得焦点、被点击或对元素任何改变中触发，并圆滑地以动画效果改变CSS的属性值。


应用场景：页面的交互操作

优点：使用transiti"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/1-1.gif"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/1-2.png"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/1-4.gif"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/1-5.gif"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/1-3.png"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/3-1.jpg"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/3-2.JPG"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/3-3.jpg"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/3-4.jpg"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/3-5.png"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/4-1.png"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/4-2.gif"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/4-7.jpg"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/4-8.png"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/4-9.gif"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/4-10.gif"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/4-11.gif"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/4-12.png"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/4-17.png"><meta property="og:image" content="http://aotu.io/img/post/Yettyzyt/css3-animation/4-18.gif"><meta property="og:updated_time" content="2016-01-05T12:01:18.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="CSS3动画实践"><meta name="twitter:description" content="需求中常见的css3动画
一、补间动画/关键帧动画常用于实现位移、颜色（透明度）、大小、旋转、倾斜等变化。
Transitions——简单的动画：起始两帧过渡

CSS的transition允许CSS的属性值在一定的时间区间内平滑地过渡。这种效果可以在鼠标单击、获得焦点、被点击或对元素任何改变中触发，并圆滑地以动画效果改变CSS的属性值。


应用场景：页面的交互操作

优点：使用transiti"><meta name="twitter:site" content="o2circle"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?e850b980d029480b092fdd7503c3f8de";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();</script><script>!function(){var e=document.createElement("script");e.src="//push.zhanzhang.baidu.com/push.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();</script><script>var App={root:"/"};</script><body itemscope itemtype="http://schema.org/WebPage"><div class="navbar navbar-fixed-top header" itemscope itemtype="http://schema.org/WPHeader"><div class="container"><div class="navbar-header"><a href="/index.html" title="Aotu.io" class="navbar-brand"><img src="/assets/img/logo_186x65.png" alt="Aotu.io"></a><div onclick="" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-main"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></div></div><div class="navbar-collapse collapse" id="navbar-main"><ul class="nav navbar-nav header-links header-links-main"><li class="main-nav-item"><a href="/index.html" class="main-nav-link">首页</a></li><li class="main-nav-item active"><a href="/notes/" class="main-nav-link">博客</a></li><li class="main-nav-item"><a href="/tags/" class="main-nav-link">标签</a></li><li class="main-nav-item"><a href="/brand/" class="main-nav-link">品牌</a></li><li class="main-nav-item"><a href="/about/" class="main-nav-link">关于</a></li></ul><ul class="nav navbar-nav navbar-right header-links header-links-extra"><li class="search-wrap"><a class="fa fa-search search-icon" href="#search" title="搜索"></a><form id="search" method="get" class="search-form"><input type="text" name="query" class="search-form-ipt" placeholder="搜索"></form></li><li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="javascript:;" id="themes" aria-expanded="false">主题&nbsp;<span class="caret"></span></a><ul id="theme-list" class="dropdown-menu" aria-labelledby="themes"><li data-v="light"><a href="javascript:;">曙光女神</a></li><li data-v="dark"><a href="javascript:;">暗影猎手</a></li></ul></li></ul></div></div></div><div class="container post-wrap"><article class="post" itemscope itemtype="http://schema.org/Article"><header class="post-header"><div class="post-title"><h2><a href="/notes/2016/01/04/css3-animation/" itemprop="name">CSS3动画实践</a></h2><ul class="post-stats"><li><a href="/tags/CSS3/" class="meta-tag">CSS3</a></li><li><a href="/tags/animation/" class="meta-tag">animation</a></li><li title="字数"><span class="icon fa-font">4,245</span></li><li id="busuanzi_container_page_pv" title="热度"><span class="icon fa-eye" id="busuanzi_value_page_pv"></span></li><li><a href="/notes/2016/01/04/css3-animation/#comments" itemprop="discussionUrl" class="lnk-comments"><span class="post-comments-count ds-thread-count icon fa-comments" data-thread-key="bm90ZXMvMjAxNi8wMS8wNC9jc3MzLWFuaW1hdGlvbi8=" data-count-type="comments" itemprop="commentsCount">0</span></a></li></ul><p>总结CSS3动画实现的方法，并进一步提出润色与优化的方案。</p></div><div class="post-meta"><time class="published" datetime="2016-01-04T15:58:00.000Z" itempro="datePublished">星期一, 1月4日 2016</time> <a target="_blank" href="https://github.com/Yettyzyt" class="author"><span class="name">燕婷</span><img src="https://avatars.githubusercontent.com/Yettyzyt?v=3&s=80" alt="Yettyzyt"></a></div></header><a href="/notes/2016/01/04/css3-animation/" class="image featured post-cover"><img src="/assets/img/post/Yettyzyt/css3-animation/840.png" alt="CSS3动画实践"></a><div class="post-content" itemprop="articleBody" data-swiftype-index="true"><h2 id="需求中常见的css3动画" class="post-heading">需求中常见的css3动画<a class="post-anchor" href="#需求中常见的css3动画" aria-hidden="true"></a></h2><hr><h3 id="一、补间动画/关键帧动画" class="post-heading">一、补间动画/关键帧动画<a class="post-anchor" href="#一、补间动画/关键帧动画" aria-hidden="true"></a></h3><p>常用于实现位移、颜色（透明度）、大小、旋转、倾斜等变化。</p><p><strong>Transitions——简单的动画：起始两帧过渡</strong></p><blockquote><p>CSS的<code>transition</code>允许CSS的属性值在一定的时间区间内平滑地过渡。<br>这种效果可以在鼠标单击、获得焦点、被点击或对元素任何改变中触发，并圆滑地以动画效果改变CSS的属性值。</p></blockquote><ul><li><p><strong>应用场景：</strong><br>页面的交互操作</p></li><li><p><strong>优点：</strong><br>使用transition可使交互效果更生动活泼</p></li></ul><p><strong>Keyframes animation——复杂的动画：关键帧较多的动画</strong></p><blockquote><p>设置动画的关键帧规则。<br><code>animation</code>的<code>timing-function</code>设置为<code>ease</code>、<code>linear</code>或<code>cubic-bezier</code>，它会在每个关键帧之间插入补间动画，产生具有连贯性的动画。</p></blockquote><h3 id="二、逐帧动画" class="post-heading">二、逐帧动画<a class="post-anchor" href="#二、逐帧动画" aria-hidden="true"></a></h3><blockquote><p>animation的<code>timing-function</code>默认值为<code>ease</code>，它会在每个关键帧之间插入补间动画，所以动画效果是连贯性的。<br>除了<code>ease</code>、<code>linear</code>、<code>cubic-bezier</code>之类的过渡函数都会为其插入补间。<br>有些效果不需要补间，只需要关键帧之间的跳跃，这时应该使用<code>steps</code>过渡方式。<br>更多详细用法请查看：<a href="http://www.cnblogs.com/aaronjs/p/4642015.html" target="_blank" rel="external">深入理解CSS3 Animation 帧动画</a></p></blockquote><ul><li><strong>应用场景：</strong></li></ul><ol><li>loading动画</li><li>Sprite精灵动画（人物运动）——把所有帧都放在一起，通过CSS3的animation控制background-position</li></ol><ul><li><p><strong>精灵动画示例：</strong></p><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/1-1.gif" alt="[逐帧动画示例]"></p><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/1-2.png" alt="[逐帧动画示例]"></p></li><li><p><strong>steps中的坑：</strong></p></li></ul><ol><li><p>第一个参数<code>number</code>为指定的间隔数：</p><ul><li>把动画分为 n 步阶段性展示(√)；不是keyframes写的变化次数(×)</li><li><p>上述示例中hand使用不同number值产生不同结果：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre><td class="code"><pre><span class="line"><span class="class">.active</span><span class="class">.share3</span> <span class="class">.hand</span><span class="rules">&#123;</span><br><span class="line">	<span class="rule"><span class="attribute">-webkit-animation</span>:<span class="value"> wave <span class="function">steps</span>(<span class="number">2</span>,end) <span class="number">2s</span> forwards infinite</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="at_rule">@<span class="keyword">-webkit-keyframes</span> wave</span>&#123;</span><br><span class="line">	0%<span class="rules">&#123;<span class="rule"><span class="attribute">background-position</span>:<span class="value"><span class="number">0</span> <span class="number">0</span></span></span>;&#125;</span></span><br><span class="line">  	50%<span class="rules">&#123;<span class="rule"><span class="attribute">background-position</span>:<span class="value"><span class="number">100%</span> <span class="number">0</span></span></span>;&#125;</span></span><br><span class="line">  	100%<span class="rules">&#123;<span class="rule"><span class="attribute">background-position</span>:<span class="value"><span class="number">0</span> <span class="number">0</span></span></span>;&#125;</span></span><br><span class="line">&#125;</span><br></pre></table></figure><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/1-4.gif" alt="[steps中的坑]"></p>（<code>number</code>为2时的结果）<br><br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre><td class="code"><pre><span class="line"><span class="class">.active</span><span class="class">.share3</span> <span class="class">.hand</span><span class="rules">&#123;</span><br><span class="line">	<span class="rule"><span class="attribute">-webkit-animation</span>:<span class="value"> wave <span class="function">steps</span>(<span class="number">1</span>,end) <span class="number">2s</span> forwards infinite</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="at_rule">@<span class="keyword">-webkit-keyframes</span> wave</span>&#123;</span><br><span class="line">  0%<span class="rules">&#123;<span class="rule"><span class="attribute">background-position</span>:<span class="value"><span class="number">0</span> <span class="number">0</span></span></span>;&#125;</span></span><br><span class="line">  50%<span class="rules">&#123;<span class="rule"><span class="attribute">background-position</span>:<span class="value"><span class="number">100%</span> <span class="number">0</span></span></span>;&#125;</span></span><br><span class="line">  100%<span class="rules">&#123;<span class="rule"><span class="attribute">background-position</span>:<span class="value"><span class="number">0</span> <span class="number">0</span></span></span>;&#125;</span></span><br><span class="line">&#125;</span><br></pre></table></figure><p></p><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/1-5.gif" alt="[steps中的坑]"></p>（<code>number</code>为1时的结果）<p></p></li></ul></li><li><p>第二个参数可选，接受<code>start</code>和<code>end</code>两个值：</p><ul><li>指定在每个间隔的起点或是终点发生阶跃变化</li><li><p><code>steps(3,start)</code>与<code>steps(3,end)</code>的区别：</p><p></p><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/1-3.png" alt="[steps中的坑]"></p>（图片来源：<a href="http://www.tuicool.com/articles/neqMVr" target="_blank" rel="external">CSS3 timing-function: steps() 详解</a>）<p></p></li></ul></li><li><p>TIPS：</p><blockquote><p><code>step-start</code>等同于<code>steps(1,start)</code>：动画执行时为开始左侧端点的部分为开始<br><code>step-end</code>等同于<code>steps(1,end)</code>：动画执行时以结尾端点为开始，默认值为end</p></blockquote></li></ol><ul><li><p><strong>工具：</strong></p><p><a href="http://tid.tenpay.com/labs/css3_keyframes_calculator.html" target="_blank" rel="external">CSS3动画帧数计算器</a></p></li></ul><h2 id="CSS动画的优缺点" class="post-heading">CSS动画的优缺点<a class="post-anchor" href="#CSS动画的优缺点" aria-hidden="true"></a></h2><hr><h3 id="一、优点：" class="post-heading">一、优点：<a class="post-anchor" href="#一、优点：" aria-hidden="true"></a></h3><blockquote><p>简单、高效<br>声明式的<br>不依赖于主线程，采用硬件加速（GPU）<br>简单的控制keyframe animation播放和暂停</p></blockquote><h3 id="二、缺点：" class="post-heading">二、缺点：<a class="post-anchor" href="#二、缺点：" aria-hidden="true"></a></h3><blockquote><p>不能动态修改或定义动画内容<br>不同的动画无法实现同步<br>多个动画彼此无法堆叠</p></blockquote><h2 id="简单做动画：" class="post-heading">简单做动画：<a class="post-anchor" href="#简单做动画：" aria-hidden="true"></a></h2><hr><p>以此需求为例：<br></p><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/3-1.jpg" alt="[简单做动画]"></p><p></p><h3 id="一、观察" class="post-heading">一、观察<a class="post-anchor" href="#一、观察" aria-hidden="true"></a></h3><ul><li>哪些元素可以动</li><li>元素可以怎么动</li></ul><h3 id="二、沟通" class="post-heading">二、沟通<a class="post-anchor" href="#二、沟通" aria-hidden="true"></a></h3><ul><li>了解设计师的想法<p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/3-2.JPG" alt="[沟通]"></p></li><li>提出自己的想法</li></ul><h3 id="三、分析" class="post-heading">三、分析<a class="post-anchor" href="#三、分析" aria-hidden="true"></a></h3><ul><li><p>分析动画元素的层次（出现顺序）</p><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/3-3.jpg" alt="[分析]"></p></li><li><p>画出动画时间轴</p><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/3-4.jpg" alt="[分析]"></p></li><li><p>根据时间轴写出CSS动画时间轴<br><strong>方法一：</strong>将所有动画元素放在一个时间轴上（适合于元素较少的情况）</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre><td class="code"><pre><span class="line">a0&#123;-webkit-animation: a0 2s forwards;&#125;</span><br><span class="line">    @-webkit-keyframes a0&#123;</span><br><span class="line">            0%&#123;……&#125;</span><br><span class="line">            30%&#123;……&#125;</span><br><span class="line">        &#125;</span><br><span class="line">a1&#123;-webkit-animation: a1 2s forwards;&#125;</span><br><span class="line">    @-webkit-keyframes a1&#123;</span><br><span class="line">            0%,30%&#123;……&#125;</span><br><span class="line">            50%&#123;……&#125;</span><br><span class="line">        &#125;</span><br><span class="line">a2&#123;-webkit-animation: a2 2s forwards;&#125;</span><br><span class="line">    @-webkit-keyframes a2&#123;</span><br><span class="line">            0%,50%&#123;……&#125;</span><br><span class="line">            75%&#123;……&#125;</span><br><span class="line">        &#125;</span><br><span class="line">a3&#123;-webkit-animation: a3 2s forwards;&#125;</span><br><span class="line">    @-webkit-keyframes a3&#123;</span><br><span class="line">            0%,75%&#123;……&#125;</span><br><span class="line">            100%&#123;……&#125;</span><br><span class="line">        &#125;</span><br></pre></table></figure><p><strong>方法二：</strong>同一阶段的动画元素放在一个时间轴上</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre><td class="code"><pre><span class="line">a0&#123;-webkit-animation: a0 0.6s forwards;&#125;</span><br><span class="line">    @-webkit-keyframes a0&#123;</span><br><span class="line">            0%&#123;……&#125;</span><br><span class="line">            100%&#123;……&#125;</span><br><span class="line">        &#125;</span><br><span class="line">a1&#123;-webkit-animation: a1 0.4s 0.6s forwards;&#125;</span><br><span class="line">    @-webkit-keyframes a1&#123;</span><br><span class="line">            0%&#123;……&#125;</span><br><span class="line">            100%&#123;……&#125;</span><br><span class="line">        &#125;</span><br><span class="line">a2&#123;-webkit-animation: a2 0.5s 1s forwards;&#125;</span><br><span class="line">    @-webkit-keyframes a2&#123;</span><br><span class="line">            0%&#123;……&#125;</span><br><span class="line">            100%&#123;……&#125;</span><br><span class="line">        &#125;</span><br><span class="line">a3&#123;-webkit-animation: a3 0.5s 1.5s forwards;&#125;</span><br><span class="line">    @-webkit-keyframes a3&#123;</span><br><span class="line">            0%&#123;……&#125;</span><br><span class="line">            100%&#123;……&#125;</span><br><span class="line">        &#125;</span><br></pre></table></figure></li></ul><h3 id="四、切图" class="post-heading">四、切图<a class="post-anchor" href="#四、切图" aria-hidden="true"></a></h3><ul><li>PS CC 2015修改组/图层名为“<em>*</em>.png”，生成图像资源<p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/3-5.png" alt="[切图]"></p>（使用PS CSS 2015切图步骤）</li></ul><h3 id="五、定位" class="post-heading">五、定位<a class="post-anchor" href="#五、定位" aria-hidden="true"></a></h3><ul><li>绝对定位—position:absolute</li><li>sublime插件：<a href="https://github.com/youing/PxRemTranslate" target="_blank" rel="external">PX转REM插件</a></li></ul><h3 id="六、实现" class="post-heading">六、实现<a class="post-anchor" href="#六、实现" aria-hidden="true"></a></h3><ul><li><p>从无到有：</p><ol><li>透明度—opacity</li><li>位移—translate</li><li>宽度—width（少用）</li></ol></li><li><p>动起来：</p><ol><li>2/3D转换—transform</li><li>其他属性</li></ol></li></ul><h3 id="七、润色" class="post-heading">七、润色<a class="post-anchor" href="#七、润色" aria-hidden="true"></a></h3><p style="color:#bbb">后文介绍</p><p><strong>TIPS：不要在before,after里加动画</strong></p><h2 id="不止于“动”：" class="post-heading">不止于“动”：<a class="post-anchor" href="#不止于“动”：" aria-hidden="true"></a></h2><hr><h3 id="一、惯性" class="post-heading">一、惯性<a class="post-anchor" href="#一、惯性" aria-hidden="true"></a></h3><ul><li>物体没有停在本应该停止的位置上而是靠惯性<strong>继续摆动一段时间然后反方向摆回来</strong></li><li>惯性在日常的动画需求中应用相当普遍，元素的高速进入都涉及惯性</li><li><p>示例：</p><ol><li>标题快速从左侧划入屏幕中</li><li>标题本应停在屏幕左右居中位置</li><li><p>由于惯性的作用，标题到达居中位置后又向右滑行一小段，再反方向滑回</p><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/4-1.png" alt="[惯性]"></p><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/4-2.gif" alt="[惯性]"></p></li></ol></li></ul><p><strong>总结：要停不停，要走不走</strong></p><h3 id="二、透视" class="post-heading">二、透视<a class="post-anchor" href="#二、透视" aria-hidden="true"></a></h3><ul><li>物体与观察者的距离远近在静态时通过<strong>物体的大小</strong>来体现<p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/4-7.jpg" alt="[透视]"></p>（透视原理图）</li><li>当物体运动时，通过<strong>远近物体不同的运动速度</strong>来体现，从而形成层次感</li><li><strong>近处的物体运动快，远处的物体运动慢</strong></li><li><p>示例：</p><ol><li>云朵与观察者的距离有远近之分（不可能所有的云都在一个平面上）</li><li>设置云朵的飘动动画时，可根据云朵的大小（远近）设置不同的运动速度</li><li><p>近处的云朵飘动的速度比远处的快，从而形成透视</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre><td class="code"><pre><span class="line"><span class="class">.cover_clouds</span> <span class="class">.c1</span>,</span><br><span class="line"><span class="class">.cover_clouds</span> <span class="class">.c2</span>,</span><br><span class="line"><span class="class">.cover_clouds</span> <span class="class">.c4</span>,</span><br><span class="line"><span class="class">.cover_clouds</span> <span class="class">.c6</span></span><br><span class="line"><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-animation</span>:<span class="value"> cloudFloat linear <span class="number">6s</span> infinite</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.cover_clouds</span> <span class="class">.c3</span>,</span><br><span class="line"><span class="class">.cover_clouds</span> <span class="class">.c5</span>,</span><br><span class="line"><span class="class">.cover_clouds</span> <span class="class">.c7</span></span><br><span class="line"><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-animation</span>:<span class="value"> cloudFloat linear <span class="number">10s</span> infinite</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></table></figure><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/4-8.png" alt="[透视]"></p><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/4-9.gif" alt="[透视]"></p></li></ol></li></ul><h3 id="三、节奏" class="post-heading">三、节奏<a class="post-anchor" href="#三、节奏" aria-hidden="true"></a></h3><ul><li>善用<strong>曲线</strong>和<strong>缓动</strong></li><li><strong>多个元素保持相同节奏</strong></li><li><p>示例：</p><ol><li><p>匀速的呼吸效果：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre><td class="code"><pre><span class="line"><span class="class">.breath</span><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-animation</span>:<span class="value"></span><br><span class="line">    breath <span class="number">6s</span> linear infinite</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></table></figure><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/4-10.gif" alt="[节奏]"></p></li><li><p>缓动的呼吸效果：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre><td class="code"><pre><span class="line"><span class="class">.breath</span><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-animation</span>:<span class="value"></span><br><span class="line">    breath <span class="number">6s</span> <span class="function">cubic-bezier</span>(.<span class="number">2</span>,.<span class="number">73</span>,.<span class="number">71</span>,.<span class="number">44</span>) infinite</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></table></figure><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/4-11.gif" alt="[节奏]"></p></li><li><p>分析呼吸的函数：</p><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/4-12.png" alt="[节奏]"></p><p>（图片来源：<a href="http://isux.tencent.com/animation-factor.html" target="_blank" rel="external">让界面动画更自然——ISUX</a>）</p></li></ol></li></ul><h3 id="四、跟随" class="post-heading">四、跟随<a class="post-anchor" href="#四、跟随" aria-hidden="true"></a></h3><ul><li>跟随动作是将物体的各部位拆解，通常是<strong>没有骨架</strong>的部位较容易产生跟随的动作</li><li>例如：<ol><li>一个奔跑的人突然停下，他的衣服头发等可能仍会运动</li><li>其中，人是“主体”，衣服头发等是“附属物”</li></ol></li><li>附属物的动作取决于：<ol><li>主体的动作</li><li>附属物本身的重量和质地</li><li>空气的阻力</li></ol></li><li><strong>主体与附属物之间动作的重叠和追随</strong>，就是鉴定动作流畅性与自然度好坏的标准</li><li>示例：<ol><li>首页主体人物动作触发后，进行小范围的四向运动以模拟人物身体颤动的效果</li><li>人物头饰（花及骨头）与运动主体（人）并非一体，属于附属物</li><li>附属物的运动受主体的运动影响出现同向、延时的运动<p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/4-17.png" alt="[跟随]"></p><p class="user_img"><img src="/assets/img/post/Yettyzyt/css3-animation/4-18.gif" alt="[跟随]"></p></li></ol></li></ul><h2 id="优化" class="post-heading">优化<a class="post-anchor" href="#优化" aria-hidden="true"></a></h2><hr><ul><li>不用left/right/width/height/margin-top等</li><li>少用color/background等</li><li>使用translate/opacity</li><li>适当开启GPU加速</li><li>适当使用will-change</li></ul><h2 id="参考文章" class="post-heading">参考文章<a class="post-anchor" href="#参考文章" aria-hidden="true"></a></h2><hr><ol><li><a href="http://www.itechzero.com/css3-transition-property-transition-effect-explain.html" target="_blank" rel="external">CSS3 transition 属性过渡效果 详解,Techzero ,2014-04-1</a></li><li><a href="http://www.cnblogs.com/aaronjs/p/4642015.html" target="_blank" rel="external">深入理解CSS3 Animation 帧动画,Aaron,2015-07-13</a></li><li><a href="http://www.tuicool.com/articles/neqMVr" target="_blank" rel="external">CSS3 timing-function: steps() 详解,那个傻瓜瓜,2014-12-30</a></li><li><a href="http://www.zuojj.com/archives/1292.html" target="_blank" rel="external">主流动画实现方式总结,Benjamin,2015-01-25</a></li><li><a href="https://cssanimation.rocks/principles/" target="_blank" rel="external">Animation Principles for the Web</a></li><li><a href="https://en.wikipedia.org/wiki/12_basic_principles_of_animation" target="_blank" rel="external">12 basic principles of animation</a></li></ol></div><div class="post-revision"><i class="fa fa-clock-o"></i> <time class="post-updated" datetime="2016-01-05T12:01:18.000Z" itemprop="dateModified">上次更新：星期二, 1月5日 2016 12:01:18</time></div><div class="actions pagination pagination-post"><div class="pagination-post-next"><a href="/notes/2016/01/02/3D-panorama/" class="button big" title="使用ThreeJS在浏览器中展示全景图">使用ThreeJS在浏览器中展示全景图 <i class="fa fa-chevron-right"></i></a></div></div><div class="post-comments" id="comments"><div class="ds-thread" data-thread-key="bm90ZXMvMjAxNi8wMS8wNC9jc3MzLWFuaW1hdGlvbi8=" data-title="CSS3动画实践" data-url="http://aotu.io/notes/2016/01/04/css3-animation/index.html"></div><script>var duoshuoQuery={short_name:"aotu"};!function(){var t=document.createElement("script");t.id="duoshuo-script",t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js",t.charset="UTF-8",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}();</script></div></article><div class="sec sec-footer"><div class="container"><footer id="footer" class="sec-heading footer"><ul class="icons"><li><a href="https://twitter.com/o2circle" class="footer-link" target="_blank"><i class="fa fa-twitter"></i></a></li><li><a href="/atom.xml" class="footer-link fa-rss"><span class="label">RSS</span></a></li><li><a href="https://github.com/o2team/o2team.github.io" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a></li></ul><div class="footer-sec copyright">&copy; 2016 <a href="http://aotu.io" target="_blank">凹凸实验室</a><br>Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.</div><div class="footer-sec words">" All roads lead to rome. "</div><div class="footer-sec site-stats" style="display:none"><span id="busuanzi_container_site_pv" class="site-pv">总访问量: <span id="busuanzi_value_site_pv" class="site-pv-num"></span> 次</span> <span id="busuanzi_container_site_uv" class="site-uv">总访客数: <span id="busuanzi_value_site_uv" class="site-uv-num"></span> 人</span></div></footer></div></div></div><section id="smSearch" class="slide-search"><section><form class="search" method="get"><input type="text" name="query" placeholder="搜索"></form></section><section><h3>搜索结果</h3><ul class="links" id="searchResults">Loading...</ul></section></section><script id="tplSearch" type="text/hogan-tpl">{{#items}}
    <li>
        <a href="{{ url }}" target="_blank">
            <h3>{{ title }}</h3>
            {{#desc}}
			<p>{{ desc }}</p>
			{{/desc}}
        </a>
    </li>
    {{/items}}</script><div class="back-to-top" id="backTop"><i class="fa fa-long-arrow-up"></i></div><script src="/assets/js/dist-0a5a3acd5d.o2.js"></script><script src="/assets/js/dist-920de38659.duoshuo.js"></script><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>